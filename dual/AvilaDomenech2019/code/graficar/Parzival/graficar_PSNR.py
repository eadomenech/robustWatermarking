# -*- encoding:utf-8 -*-
# -*- coding:utf-8 -*-

import numpy as np
import matplotlib.pyplot as plt
from matplotlib.patches import Polygon


def run_main():
    shivani2017 = [
        39.412400,37.953329,39.405832,38.916522,38.439209,37.999932,38.835189,37.935623,38.755422,37.274261,38.235718,37.396278,37.745851,37.487157,37.877802,37.422671,37.066242,38.170408,37.704153,37.574749,37.589621,37.812069,37.548741,37.335278,37.162564,37.086484,37.729254,37.735927,38.254805,38.744720,37.203511,37.621834,36.762054,38.031645,36.726871,37.931698,37.911517,39.595517,38.034024,37.400031,38.340388,37.830170,38.160768,39.374882,37.688412,37.946189,37.771573,37.482753,36.664810,36.918083,37.218706,37.204875,37.825845,36.613349,36.749791,38.279079,37.347104,36.789668,36.474545,36.135333]

    # ok
    liu2018_k02 = [
        29.259760,29.745277,29.517528,29.186058,29.143889,29.693566,29.114188,29.266344,29.329060,29.137200,29.617012,29.895475,29.205699,29.301544,29.029874,29.212251,29.244842,29.483783,29.391082,29.157539,29.151200,28.979600,28.854904,28.759445,29.324269,29.321652,30.161951,29.343351,28.951145,29.046209,29.142868,28.903039,28.958960,29.326805,29.010534,29.151671,29.689817,29.357912,28.874130,29.107137,29.019324,29.196915,29.172604,29.574302,29.015964,29.167970,28.985988
    ]

    # ok
    liu2018_k04 = [
        29.247424,29.729932,29.503719,29.173613,29.131904,29.679466,29.101913,29.253922,29.316456,29.125007,29.603383,29.880429,29.193217,29.288578,29.017481,29.199459,29.231833,29.470782,29.377425,29.144670,29.138277,28.967238,28.842931,28.748061,29.311392,29.309165,30.145597,29.330608,28.939172,29.034334,29.130543,28.891387,28.946586,29.314380,28.998285,29.139897,29.675360,29.345964,28.862683,29.094916,29.007700,29.184028,29.160143,29.560788,29.004045,29.155037,28.974243
    ]

    # ok
    liu2018_k08 = [
        29.202260,29.674297,29.453284,29.128588,29.087428,29.627936,29.055113,29.209337,29.269466,29.081806,29.556192,29.826947,29.147136,29.246999,28.972359,29.152991,29.188647,29.424315,29.328505,29.102118,29.093066,28.926333,28.802164,28.706477,29.265008,29.261856,30.084608,29.280655,28.896520,28.991686,29.086271,28.850947,28.905438,29.264890,28.954320,29.093402,29.619945,29.296088,28.820609,29.050270,28.963768,29.138921,29.113322,29.513092,28.959901,29.110866,28.932151
    ]

    # ok
    liu2018_k1 = [
        29.175110,29.636950,29.417810,29.103344,29.062690,29.600181,29.023624,29.175337,29.238955,29.054567,29.522689,29.795439,29.120475,29.214931,28.948046,29.124085,29.155470,29.396669,29.297946,29.071679,29.062476,28.901736,28.776421,28.679111,29.234414,29.232604,30.045792,29.254010,28.869965,28.963657,29.058244,28.824809,28.876464,29.235354,28.927721,29.069865,29.582044,29.264514,28.798789,29.021810,28.934141,29.108754,29.087330,29.481338,28.935771,29.083249,28.906483
    ]

    proposed = [
        42.944325,43.068719,43.216445,42.818183,42.886869,43.040067,42.862763,42.873275,42.895967,42.845578,42.829701,42.859263,43.020349,42.891859,42.793530,42.828940,42.697656,42.806485,42.708147,42.954417,42.739838,42.973886,43.019405,42.963837,42.935496,42.879402,42.823496,42.921498,42.853788,42.847901,42.917794,42.893857,43.015701,42.884806,42.983556,42.820283,42.868969,43.035158,42.834006,42.918017,42.861040,42.833004,42.966341,42.885259,42.963796,42.890674,43.073579
    ]

    data = [shivani2017, liu2018_k02, liu2018_k04, liu2018_k08, liu2018_k1, proposed]

    fig, ax1 = plt.subplots(figsize=(6, 6))
    fig.canvas.set_window_title('PSNR')
    fig.subplots_adjust(left=0.1, right=0.95, top=0.95, bottom=0.15)

    bp = ax1.boxplot(data, notch=0, sym='+', vert=1, whis=1.5)
    plt.setp(bp['boxes'], color='blue')
    plt.setp(bp['whiskers'], color='black')
    plt.setp(bp['fliers'], marker='+', color='blue')

    # Add a horizontal grid to the plot, but make it very light in color
    # so we can use it for reading data values but not be distracting
    ax1.yaxis.grid(
        True, linestyle='-', which='major', color='lightgrey',
        alpha=0.5)

    # Hide these grid behind plot objects
    ax1.set_axisbelow(True)
    ax1.set_title('Parzival database (47 images)')
    ax1.set_xlabel('Schemes')
    ax1.set_ylabel('PSNR')

    # Now fill the boxes with desired colors
    numDists = 6
    boxColors = ['darkkhaki', 'green', 'blue', 'red', '#c586c0', '#ade1f9']
    for i in range(numDists):
        box = bp['boxes'][i]
        boxX = []
        boxY = []
        for j in range(5):
            boxX.append(box.get_xdata()[j])
            boxY.append(box.get_ydata()[j])
        boxCoords = np.column_stack([boxX, boxY])
        boxPolygon = Polygon(boxCoords, facecolor=boxColors[i])
        ax1.add_patch(boxPolygon)
        # Now draw the median lines back over what we just filled in
        med = bp['medians'][i]
        # Finally, overplot the sample averages, with horizontal alignment in the center of each box
        ax1.plot([np.average(med.get_xdata())], [np.average(data[i])],
                color='w', marker='*', markeredgecolor='k')

    ax1.set_xticklabels(
        [
            '[9]', '[6] k=0.2', '[6] k=0.4', '[6] k=0.8', '[6] k=1', 'Proposed'
        ],
        rotation=-30, fontsize=12)
    plt.show()


if __name__ == "__main__":
    run_main()